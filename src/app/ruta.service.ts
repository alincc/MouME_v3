import Dexie from 'dexie';
import uuidV4 from 'uuid/v4';
import { Ruta } from './ruta.model';

export class RutaService extends Dexie {

    rutes: Dexie.Table<Ruta, string>;
    rutesToAdd: Ruta[] = [
        {
            id: "1",
            userEmail: "juanantonio.sanchez@gmail.com",
            userName: "juananAnt",
            origin: "Carrer de Colom, 3, Terrassa",
            originObject: '{address_components:[{long_name:"3",short_name:"3",types:["street_number"]},{long_name:"Carrer de Colom",short_name:"Carrer de Colom","types":["route"]},{"long_name":"Terrassa","short_name":"Terrassa","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Cataluña","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08222","short_name":"08222","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer de Colom, 3</span>, <span class=\"postal-code\">08222</span> <span class=\"locality\">Terrassa</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer de Colom, 3, 08222 Terrassa, Barcelona, Espanya","geometry":{"location":{"lat":41.56349730000001,"lng":2.0223502000000053},"viewport":{"south":41.56349234999998,"west":2.0223227500000576,"north":41.56349895000002,"east":2.022359349999988}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"42e459a42fd80e9a398ba0d55c52cfa95a2a073a","name":"Carrer de Colom, 3","place_id":"EjZDYXJyZXIgZGUgQ29sb20sIDMsIDA4MjIyIFRlcnJhc3NhLCBCYXJjZWxvbmEsIEVzcGHDsWE","reference":"CqQBlAAAAHGlqNoXfTZ2sVWFVZLHIzbSjHfjZ9DqImm0OZNoBKJa8VNBQg_dnRJJdabsuWOtMBFeQ9DNtzGQ5aCcd09V8QvnwCP0RwBLVYTCKp8z3zpxp9ob7ZWD6RBFqLTzyjqdayOTsIzMlCc2x1zjhtpoA9qG5OzKmL05mnj-EWgwlNkrz4s26t0_4VaHGT0Q6ywbRA1IcWHH2keivl4ZNWJ2PR0SEB2LVv3buHeR3qm0xM5I-7UaFCQ4N4i-cN-Vz2Zpj6PjOjTerHi5","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+de+Colom,+3,+08222+Terrassa,+Barcelona,+Espanya&ftid=0x12a492e754b36d9f:0xee6d7e97d19c754a","utc_offset":60,"vicinity":"Terrassa","html_attributions":[]}',   //JSON 
            originCity: "Terrassa",
            originCoord: ["41.56349730000001", "2.0223502000000053"],
            destination: "Carrer de Ricart, 22, Sant Adrià de Besòs",
            destinationObject: '{"address_components":[{"long_name":"22","short_name":"22","types":["street_number"]},{"long_name":"Carrer de Ricart","short_name":"Carrer de Ricart","types":["route"]},{"long_name":"Sant Adrià de Besòs","short_name":"Sant Adrià de Besòs","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08930","short_name":"08930","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer de Ricart, 22</span>, <span class=\"postal-code\">08930</span> <span class=\"locality\">Sant Adrià de Besòs</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer de Ricart, 22, 08930 Sant Adrià de Besòs, Barcelona, Espanya","geometry":{"location":{"lat":41.4304891,"lng":2.2175382000000354},"viewport":{"south":41.43047230000001,"west":2.2175214000000096,"north":41.4304947,"east":2.2175437999999303}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"a29c06a32af20bb9570b19be50556b933bb97538","name":"Carrer de Ricart, 22","place_id":"EkVDYXJyZXIgZGUgUmljYXJ0LCAyMiwgMDg5MzAgU2FudCBBZHJpw6AgZGUgQmVzw7JzLCBCYXJjZWxvbmEsIEVzcGFueWE","reference":"CrQBowAAAE5dGQMaNi5oS1ZlJeLqKJqd1YmlWP03ptIZHDmqo0CHZF-JQF5FaJkL_AOmgfYBaMJL41fr6K1GczOTpG_W_6x4IPk6QGfPIAONxcML6MdpWRgmlfbFlD6vr-P9mBOx0fl1QGNMQahdbjKVSIXqjdvJ5J2ipAPZGIFNP6WTcWoLV5SCwyFh1JyVbsNwpG3SrravX_IxyjjxPvpIlGPGTkoW_s9lrd58_szeEiBksObpEhDmkD63PbvkTLLvRLzhgYBkGhQC74TyUSR_dcwwpZOU1OVPMidMKg","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+de+Ricart,+22,+08930+Sant+Adri%C3%A0+de+Bes%C3%B2s,+Barcelona,+Espanya&ftid=0x12a4bca58d695c57:0x6e80dc43e0dc1bd1","utc_offset":60,"vicinity":"Sant Adrià de Besòs","html_attributions":[]}',  //JSON
            destinationCity: "Sant Adrià de Besòs",
            destinationCoord: ["41.4304891", "2.2175382000000354"],
            hour: "07:00", //hour dept
            hourBack: "17:00",
            weekDays: ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes"],
            spaces: "3",
            availSpacesIda: "3",
            availSpacesVuelta: "2",
            usersOnIda: [],
            usersOnVuelta: [],
        },
        {
            id: "2",
            userEmail: "garcilasco@gmail.com",
            userName: "fernan84",
            origin: "Av. Diagonal, 12, Gavà",
            originObject: '{"address_components":[{"long_name":"12","short_name":"12","types":["street_number"]},{"long_name":"Avinguda Diagonal","short_name":"Av. Diagonal","types":["route"]},{"long_name":"Gavà","short_name":"Gavà","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08850","short_name":"08850","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Av. Diagonal, 12</span>, <span class=\"postal-code\">08850</span> <span class=\"locality\">Gavà</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Av. Diagonal, 12, 08850 Gavà, Barcelona, Espanya","geometry":{"location":{"lat":41.30503999999999,"lng":1.9981400000000349},"viewport":{"south":41.30490005,"west":1.9980269000000135,"north":41.30508664999999,"east":1.998177700000042}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"9d959c1e3418f69d1f0bba565b0d9beb5d860df1","name":"Av. Diagonal, 12","place_id":"ChIJoVHGIdicpBIRKMbLbAX3VIU","reference":"CmRbAAAA02gPFyi088_YKWIrBxYhvK6HJRkDbBtA8pMbu8llgtsp5-oVOYk5zsyy6xoH_tyc8yt3ILFsEZOTDBiIvVmkQ3Nl8GxcD_YsqBrXl6kKdJ1W0JCjHZWctLd7dBgpEB3IEhClAMIRQxQpRMinC25QdKjPGhR9Fr8rtl2EHYblbmwfI-xrHKlU-w","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Av.+Diagonal,+12,+08850+Gav%C3%A0,+Barcelona,+Espanya&ftid=0x12a49cd821c651a1:0x8554f7056ccbc628","utc_offset":60,"vicinity":"Gavà","html_attributions":[]}',   //JSON 
            originCity: "Gavà",
            originCoord: ["41.30503999999999", "1.9981400000000349"],
            destination: "Gran Via de les Corts Catalanes, Barcelona",
            destinationObject: '{"address_components":[{"long_name":"69","short_name":"69","types":["street_number"]},{"long_name":"Gran Via de les Corts Catalanes","short_name":"Gran Via de les Corts Catalanes","types":["route"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08010","short_name":"08010","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Gran Via de les Corts Catalanes, 69</span>, <span class=\"postal-code\">08010</span> <span class=\"locality\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Gran Via de les Corts Catalanes, 69, 08010 Barcelona, Espanya","formatted_phone_number":"689 79 49 67","geometry":{"location":{"lat":41.3949151,"lng":2.1756149000000278},"viewport":{"south":41.3947135,"west":2.1745964000000413,"north":41.3949823,"east":2.1759544000000233}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/generic_recreational-71.png","id":"b4a058c5f3fd2abbdebe992373944f7571001e4c","international_phone_number":"+34 689 79 49 67","name":"Plaça de Tetuan","opening_hours":{"exceptional_date":[],"open_now":true,"periods":[{"open":{"day":0,"time":"0000","hours":0,"minutes":0,"nextDate":1488063600000}}],"weekday_text":["dilluns: Obert 24 hores","dimarts: Obert 24 hores","dimecres: Obert 24 hores","dijous: Obert 24 hores","divendres: Obert 24 hores","dissabte: Obert 24 hores","diumenge: Obert 24 hores"]},"photos":[{"height":2340,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/118221124359143588716/photos\">Hector Massa</a>"],"width":4160},{"height":2976,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/105833427799782174210/photos\">Rodrigo chen</a>"],"width":3968},{"height":2448,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/103070813222406446082/photos\">Ezequiel Gonzalez</a>"],"width":3264},{"height":2988,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/112888084707693560665/photos\">Esther Egea</a>"],"width":5312},{"height":3265,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/107099360942457257943/photos\">Ove Baardsgaard</a>"],"width":4899},{"height":1836,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114783209052283425931/photos\">Zhongliu Pan</a>"],"width":3264},{"height":3000,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":4000},{"height":4032,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/106887051723566848221/photos\">antonino puccio</a>"],"width":3024},{"height":2160,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/116736410367185577189/photos\">Martin Hughes</a>"],"width":3840},{"height":2160,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/102041698309255879093/photos\">Charles Mordret</a>"],"width":3840}],"place_id":"ChIJI5hy6eWipBIRU8mbeDSg0YA","rating":4,"reference":"CmRSAAAAUx8ls2_fM9GcQy6UYSAuSW2DQYgp75uaCamc1jDfaazlh_ni8O79vQpZxLj7oxOqAIkx6gHhAQsaMzqVTN86SrMZVMRNTagYT4A0wciZeolqCMe0y96GVhhDXACpeCQrEhB-Xi2g9ZHERxXTupDNwklOGhSNcCz4O1YhIPMcvcXBbnSxPA0bPQ","reviews":[{"aspects":[{"rating":1,"type":"overall"}],"author_name":"Jesús Lloréns Vercher","author_url":"https://www.google.com/maps/contrib/109608942005549942795/reviews","language":"ca","profile_photo_url":"//lh3.googleusercontent.com/-ICncCzW9VjQ/AAAAAAAAAAI/AAAAAAAALso/-zoI7DubW0c/s128/photo.jpg","rating":3,"relative_time_description":"fa 2 setmanes","text":"Seria genial si no tingués tant trànsit al voltant i les rampes daccés no fossin gairebé esglaons.","time":1486515503},{"aspects":[{"rating":2,"type":"overall"}],"author_name":"Emili Cabús","author_url":"https://www.google.com/maps/contrib/104169240201930642807/reviews","language":"ca","profile_photo_url":"//lh4.googleusercontent.com/-ZWaKc-UPNCc/AAAAAAAAAAI/AAAAAAAAWzk/nZN8udJRlQI/s128/photo.jpg","rating":4,"relative_time_description":"fa 2 mesos","text":"Per lamplada de la plaça, l estàtua del Dr. Robert i per les vistes.","time":1481915601},{"aspects":[{"rating":3,"type":"overall"}],"author_name":"Pep Salvà","author_url":"https://www.google.com/maps/contrib/101831733966878206980/reviews","language":"ca","profile_photo_url":"//lh5.googleusercontent.com/-IkHxZN9WJiU/AAAAAAAAAAI/AAAAAAAAC1Y/qIB8zUl7IFU/s128/photo.jpg","rating":5,"relative_time_description":"fa 2 mesos","text":"En mig de la plaça hi ha un jardí que sembla mentida la tranquilitat que hi ha","time":1481652195},{"aspects":[{"rating":0,"type":"overall"}],"author_name":"Marcel Fontcuberta Mas","author_url":"https://www.google.com/maps/contrib/107270291173579556911/reviews","language":"ca","profile_photo_url":"//lh6.googleusercontent.com/-Pt_nWTUv2HM/AAAAAAAAAAI/AAAAAAAAM50/BHINh06jIVU/s128/photo.jpg","rating":2,"relative_time_description":"fa 3 mesos","text":"Massa sorollós i sempre hi ha captaires i gossos.","time":1479643944},{"aspects":[{"rating":3,"type":"overall"}],"author_name":"Francesc Risa","author_url":"https://www.google.com/maps/contrib/118072216376744958738/reviews","language":"ca","profile_photo_url":"//lh3.googleusercontent.com/-qqYbrK4DoV4/AAAAAAAAAAI/AAAAAAAAFhQ/pIv-ZYnUtMg/s128/photo.jpg","rating":5,"relative_time_description":"fa 4 mesos","text":"Monument al Dr. Bartomeu Robert i Yarzábal (1842-1902)\nPopularment conegut com el doctor Robert, fou un metge i polític català.","time":1474999126}],"scope":"GOOGLE","types":["park","point_of_interest","establishment"],"url":"https://maps.google.com/?cid=9282376454209522003","utc_offset":60,"vicinity":"Gran Via de les Corts Catalanes, 69, Barcelona","website":"http://guia.barcelona.cat/","html_attributions":[]}',  //JSON
            destinationCity: "Barcelona",
            destinationCoord: ["41.3949151", "2.1756149000000278"],
            hour: "10:00", //hour dept
            hourBack: "20:00",
            weekDays: ["Lunes", "Martes", "Miércoles", "Jueves"],
            spaces: "4",
            availSpacesIda: "2",
            availSpacesVuelta: "4",
            usersOnIda: [],
            usersOnVuelta: [],
        },{
            availSpacesIda: "3",
            availSpacesVuelta: "3",
            destination: "Passeig de la Zona Franca, 2, Barcelona",
            destinationCity: "Barcelona",
            destinationCoord: ["41.3516894","2.145464299999958"],
            destinationObject: '{"address_components":[{"long_name":"2","short_name":"2","types":["street_number"]},{"long_name":"Passeig de la Zona Franca","short_name":"Passeig de la Zona Franca","types":["route"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08038","short_name":"08038","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Passeig de la Zona Franca, 2</span>, <span class=\"postal-code\">08038</span> <span class=\"locality\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Passeig de la Zona Franca, 2, 08038 Barcelona, Espanya","geometry":{"location":{"lat":41.3516894,"lng":2.145464299999958},"viewport":{"south":41.35031221970851,"west":2.14404376970856,"north":41.3530101802915,"east":2.1467417302915237}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"b696c178a95629cca95df6c36912806c445875c0","name":"Passeig de la Zona Franca, 2","place_id":"ChIJ1e35BAiipBIRD5odCDw1EFU","reference":"CmRbAAAAU_yVoI0BdDstvH-hPFgvq0Gp7Lb0zO1Reu0d0kV2cNHMk8HMnJeNtPt71-0pctkTwrVuu7GLPRCu3Ybu_2zKrbRdVeb5n5UH6F0G7m6DGd39rUk9V1vkQkb1ryduSqy3EhCQH-bUnKF8sXbNUSMRI4cXGhRiS-eU0UoEY5pu1oORHPTRSPGUyQ","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Passeig+de+la+Zona+Franca,+2,+08038+Barcelona,+Espanya&ftid=0x12a4a20804f9edd5:0x5510353c081d9a0f","utc_offset":60,"vicinity":"Barcelona","html_attributions":[]}',
            hour: "09:00",
            hourBack: "18:00",
            id: "3",
            origin: "Carrer de Miquel Servet, 4, Santa Coloma de Gramenet",
            originCoord: ["41.4311316","2.2175048999999944"],
            originCity: "Santa Coloma de Gramenet",
            originObject: '{"address_components":[{"long_name":"54","short_name":"54","types":["street_number"]},{"long_name":"Carrer de Balmes","short_name":"Carrer de Balmes","types":["route"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08007","short_name":"08007","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer de Balmes, 54</span>, <span class=\"postal-code\">08007</span> <span class=\"locality\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer de Balmes, 54, 08007 Barcelona, Espanya","geometry":{"location":{"lat":41.3894097,"lng":2.162689499999942},"viewport":{"south":41.3880148697085,"west":2.1612929197085577,"north":41.3907128302915,"east":2.1639908802915215}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"527d49da3539822a7433f59679aed73ad18da159","name":"Carrer de Balmes, 54","place_id":"ChIJpxvWDY2ipBIRvFIuIYR64ZM","reference":"CmRbAAAAFeRT1PFkNoUC4s_3W__c3MSO_iiCdDCi3cB25G9bQuY6aIRI6g8t4zS_hfjraCjPfGuac6nsHebgY_5nm2X8MMVs_4KWwpvwYRbMx7aOLfvLgV-tekuVzYHaRBSMEPJ2EhCrgRXaQ20YmYaJvGDpebVjGhQRAVlK_YEEgME2TpuzbZVeWBfB4Q","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+de+Balmes,+54,+08007+Barcelona,+Espanya&ftid=0x12a4a28d0dd61ba7:0x93e17a84212e52bc","utc_offset":60,"vicinity":"Barcelona","html_attributions":[]}',
            spaces:"3",
            userEmail: "t3r3st3g3n@gmail.com",
            userName: "t3r3st3g3n",
            weekDays: ["Lunes", "Martes", "Miércoles", "Jueves"],
            usersOnIda: [],
            usersOnVuelta: [],
        },{
            availSpacesIda: "4",
            availSpacesVuelta: "4",
            destination: "Hospital Mollet, Mollet del Vallès",
            destinationCity: "Mollet del Vallès",
            destinationCoord: ["41.5437081","2.2021875000000364"],
            destinationObject: '{"address_components":[{"long_name":"6","short_name":"6","types":["street_number"]},{"long_name":"Ronda Pinetons","short_name":"Ronda Pinetons","types":["route"]},{"long_name":"Mollet del Vallès","short_name":"Mollet del Vallès","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08100","short_name":"08100","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Ronda Pinetons, 6</span>, <span class=\"postal-code\">08100</span> <span class=\"locality\">Mollet del Vallès</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Ronda Pinetons, 6, 08100 Mollet del Vallès, Barcelona, Espanya","formatted_phone_number":"935 63 61 00","geometry":{"location":{"lat":41.5437081,"lng":2.2021875000000364},"viewport":{"south":41.5423439197085,"west":2.2004742697084794,"north":41.5450418802915,"east":2.203172230291557}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/doctor-71.png","id":"63de8bfa346fa52e797e31724c2b198cb481ad8f","international_phone_number":"+34 935 63 61 00","name":"Hospital Mollet","opening_hours":{"exceptional_date":[],"open_now":true,"periods":[{"open":{"day":0,"time":"0000","hours":0,"minutes":0,"nextDate":1489273200000}}],"weekday_text":["dilluns: Obert 24 hores","dimarts: Obert 24 hores","dimecres: Obert 24 hores","dijous: Obert 24 hores","divendres: Obert 24 hores","dissabte: Obert 24 hores","diumenge: Obert 24 hores"]},"photos":[{"height":3672,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":4896},{"height":2160,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114313599847658240425/photos\">juan jose Gonzalez</a>"],"width":3840},{"height":2148,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":3968},{"height":2268,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":4032},{"height":3968,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":2148},{"height":4128,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/103524112552127739233/photos\">SERGI CANDELA</a>"],"width":2322},{"height":2268,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":4032},{"height":1632,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/105789772560157617064/photos\">Gaelle Fado</a>"],"width":1224},{"height":3672,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":4896},{"height":3962,"html_attributions":["<a href=\"https://maps.google.com/maps/contrib/114118451392288609524/photos\">Pako Valera</a>"],"width":2134}],"place_id":"ChIJmaj_4R6_pBIRCBj6zd75EOc","rating":3.1,"reference":"CmRSAAAAlt2kvw9bFwiShReFRfDJ4cxpZzAlosmiQqoJWBIYn1LpbrIrWMysHocjnGVRZ0ZgDsPh5Q4jeIljVfXITGrnHeTzQK7ZLjmyOLGgAGwdPlmrrhgX1XsJ83TCXjno1UWEEhCL3d14LQZIM5Di2prmPMeLGhRJh_AqdY0E1L9cRX6lsbCoiJQFOA","reviews":[{"aspects":[{"rating":0,"type":"overall"}],"author_name":"ignasi arbiol","author_url":"https://www.google.com/maps/contrib/114897250596728749905/reviews","language":"ca","profile_photo_url":"//lh3.googleusercontent.com/-ec6TJY-gfoE/AAAAAAAAAAI/AAAAAAAAAAA/SB8g13_q31M/s128/photo.jpg","rating":1,"relative_time_description":"fa 1 mes","text":"es tant dolent que no hi ha possibilitat que els poquíssims professionals que hi han tinguin cap ganes de seguir a aquest mal centre d\'Insalud, aquest últim cop per no se que pero encara no sabem ni jo ni ells hem moro i després de 27 dies hem tenen que programar la primera visita de control ja els he dit que esperare ......es un desori això si PRIVAT-CONCERTAT.","time":1484844707},{"aspects":[{"rating":0,"type":"overall"}],"author_name":"Nino rivera sallent","author_url":"https://www.google.com/maps/contrib/113252304816329488768/reviews","language":"ca","profile_photo_url":"//lh5.googleusercontent.com/-2mdfrJoPKkw/AAAAAAAAAAI/AAAAAAAAAAA/AAomvV2I8nhtBMJnt3dgTTzsMh-41NDlEg/s128/photo.jpg","rating":1,"relative_time_description":"fa 1 mes","text":"he arribat a les 7 del mati , son les 8.45 i em diuen que tinc que esperar , som dos perdones a la sala d espera , no entenc res , per molt malament","time":1486280632},{"aspects":[{"rating":0,"type":"overall"}],"author_name":"bernat tramullas","author_url":"https://www.google.com/maps/contrib/102365444050835835827/reviews","language":"ca","profile_photo_url":"//lh6.googleusercontent.com/-KM0uA5H1HrA/AAAAAAAAAAI/AAAAAAAACMM/OZdAefY64jY/s128/photo.jpg","rating":1,"relative_time_description":"fa 1 any","text":"Temps d\'urgència molt llargs i el temps apoximat d\'espera de les pantalles no s\'adecua a la realitat, de molt!","time":1451346169},{"aspects":[{"rating":0,"type":"overall"}],"author_name":"Carlos H.","author_url":"https://www.google.com/maps/contrib/113162636421900482493/reviews","language":"ca","profile_photo_url":"//lh4.googleusercontent.com/-_Rwu37_bDx4/AAAAAAAAAAI/AAAAAAAAAAA/AAomvV2imvYzW4tQm_9Ssr1TRqbDm2gqDA/s128/photo.jpg","rating":1,"relative_time_description":"fa 1 any","text":"L\'indret perfecte si vols morir a mans d\'incompetents.","time":1455752335},{"aspects":[{"rating":0,"type":"overall"}],"author_name":"david suarez","author_url":"https://www.google.com/maps/contrib/109177825991591744534/reviews","language":"es","profile_photo_url":"//lh5.googleusercontent.com/-J7k0khntUWc/AAAAAAAAAAI/AAAAAAAAT04/4eTbwh5jPQw/s128/photo.jpg","rating":1,"relative_time_description":"en la darrera setmana","text":"Un mierda bien gorda","time":1488988465}],"scope":"GOOGLE","types":["hospital","point_of_interest","establishment"],"url":"https://maps.google.com/?cid=16650082557722499080","utc_offset":60,"vicinity":"Ronda Pinetons, 6, Mollet del Vallès","website":"http://www.hospitalmollet.cat/","html_attributions":[]}',
            hour: "07:30",
            hourBack: "16:00",
            id: "4",
            origin: "Carrer de Balmes, 54, Barcelona",
            originCoord: ["41.3894097","2.162689499999942"],
            originCity: "Barcelona",
            originObject: '{"address_components":[{"long_name":"4","short_name":"4","types":["street_number"]},{"long_name":"Carrer de Miquel Servet","short_name":"Carrer de Miquel Servet","types":["route"]},{"long_name":"Santa Coloma de Gramenet","short_name":"Santa Coloma de Gramenet","types":["locality","political"]},{"long_name":"Sant Adrià de Besòs","short_name":"Sant Adrià de Besòs","types":["administrative_area_level_4","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08930","short_name":"08930","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer de Miquel Servet, 4</span>, <span class=\"postal-code\">08930</span> <span class=\"locality\">Santa Coloma de Gramenet</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer de Miquel Servet, 4, 08930 Santa Coloma de Gramenet, Barcelona, Espanya","geometry":{"location":{"lat":41.4311316,"lng":2.2175048999999944},"viewport":{"south":41.4297709197085,"west":2.216177069708465,"north":41.4324688802915,"east":2.2188750302915423}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"a99351b7595ce75b9b1c3c49a024e4f181bbe1fc","name":"Carrer de Miquel Servet, 4","place_id":"ChIJN7w1laW8pBIRKmbcnPAsW2Q","reference":"CmRbAAAAIIRT-s1mWEHgalckRUoFVPWeMplgvVkhc4rw8Zzx4Z6jWjavISLeH_FpW94NODMPvTclNEennPkheip6heFQuhpqu3dNH7Km4fIeBK2TjbH8IWwHBfqQPrcQgyi45jgiEhByE8Y8vwofYawF7YSR6gBUGhShbyoWiJeweOh7WDwFJIU1O_tC1w","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+de+Miquel+Servet,+4,+08930+Santa+Coloma+de+Gramenet,+Barcelona,+Espanya&ftid=0x12a4bca59535bc37:0x645b2cf09cdc662a","utc_offset":60,"vicinity":"Santa Coloma de Gramenet","html_attributions":[]}',
            spaces:"4",
            userEmail: "german_boy_1743@telefonica.net",
            userName: "rowshar",
            weekDays: ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes"],
            usersOnIda: [],
            usersOnVuelta: [],
        },{
            availSpacesIda: "6",
            availSpacesVuelta: "6",
            destination: "Doctor Trueta, 116, Barcelona",
            destinationCity: "Barcelona",
            destinationCoord: ["41.394505","2.198086999999987"],
            destinationObject: '{"address_components":[{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"08005","short_name":"08005","types":["postal_code"]}],"adr_address":"<span class=\"postal-code\">08005</span> <span class=\"locality\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"08005 Barcelona, Espanya","geometry":{"location":{"lat":41.394505,"lng":2.198086999999987},"viewport":{"south":41.39315601970851,"west":2.196738019708505,"north":41.39585398029151,"east":2.1994359802914687}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/bus-71.png","id":"05e245ce7311b956e35053572ea010117a12d3eb","name":"Doctor Trueta, 116","place_id":"ChIJcQeLRhGjpBIRqec4kKE5YO8","reference":"CmRSAAAAvUMw0hUjvgekAicxhsv-R8UodFoK3uFRCO6fFmfnR4fGOJZLmVzwSas23Z_yBMC_7RHJFvd_WMkWOiXfF85lmBCp94Q0oOiJGVHgj_YJcMAD5dHZDxt6LudEbVfir5P4EhCjRvTJR-cjHfnQavN61dARGhQN8nv9CeqsjYY1rSCNpxKgC9KkdQ","scope":"GOOGLE","types":["bus_station","transit_station","point_of_interest","establishment"],"url":"https://maps.google.com/?cid=17248849938901165993","utc_offset":60,"vicinity":"Spain","html_attributions":[]}',
            hour: "12:00",
            hourBack: "18:00",
            id: "5",
            origin: "Plaça de Molina, Barcelona",
            originCoord: ["41.400746","2.147000299999945"],
            originCity: "Barcelona",
            originObject: '{"address_components":[{"long_name":"Plaça de Molina","short_name":"Plaça de Molina","types":["route"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08006","short_name":"08006","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Plaça de Molina</span>, <span class=\"postal-code\">08006</span> <span class=\"locality\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Plaça de Molina, 08006 Barcelona, Espanya","geometry":{"location":{"lat":41.400746,"lng":2.147000299999945},"viewport":{"south":41.3993970197085,"west":2.1456513197084632,"north":41.4020949802915,"east":2.1483492802915407}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"fcf602531ad042919aef63efbb1d27c1a55ae5a0","name":"Plaça de Molina","place_id":"ChIJsVbihp-ipBIR_fS71R-FSGw","reference":"CmRbAAAA2GJcuspSutY00dTitVy-AX_7oGRLkozeOf98eXnp88SJ4NVC-wXHwndmmTg7g_a86GE4hc6xxbzFh_3Ky2kEskb0xqbW9WkS9-Y1zUnYLuxkGWcoAZJUvqCqqtGLI3DZEhB1sRvUfAmTnh2CEPmBrQe2GhTOm7adW1WNvXN9-pGOs_yav3naPQ","scope":"GOOGLE","types":["route"],"url":"https://maps.google.com/?q=Pla%C3%A7a+de+Molina,+08006+Barcelona,+Espanya&ftid=0x12a4a29f86e256b1:0x6c48851fd5bbf4fd","utc_offset":60,"vicinity":"Barcelona","html_attributions":[]}',
            spaces:"6",
            userEmail: "ramianboy@moume.com",
            userName: "ramian",
            weekDays: ["Martes", "Miércoles", "Jueves", "Viernes"],
            usersOnIda: [],
            usersOnVuelta: [],
        },
        {
            availSpacesIda: "4",
            availSpacesVuelta: "4",
            destination: "Carrer de Roc Boronat, 138, Barcelona",
            destinationCity: "Barcelona",
            destinationCoord: ["41.4037478","2.1935247000000118"],
            destinationObject: '{"address_components":[{"long_name":"138","short_name":"138","types":["street_number"]},{"long_name":"Carrer de Roc Boronat","short_name":"Carrer de Roc Boronat","types":["route"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08018","short_name":"08018","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer de Roc Boronat, 138</span>, <span class=\"postal-code\">08018</span> <span class=\"locality\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer de Roc Boronat, 138, 08018 Barcelona, Espanya","geometry":{"location":{"lat":41.4037478,"lng":2.1935247000000118},"viewport":{"south":41.4023632197085,"west":2.1920756197084756,"north":41.4050611802915,"east":2.1947735802914394}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"5d92ada971e6ffe4a146401d8f0fd48de7114724","name":"Carrer de Roc Boronat, 138","place_id":"ChIJ94QU1TyjpBIR-00wc9Hchfc","reference":"CmRbAAAAX_yq7Ct1I63TybJbVLCpgbnGhbGeMKY3mhna3MWn3Y5scHILLjxC7ZLDjiPy-xQ3MJKxxLp2cOOVbD_eh6cnbXClTfLwOzsWcI18A_mGRyotuR96Fr9SH3S4fZfUIZ2rEhACNuwyzIo1SqllGgY4kZ2tGhTHzA_V4xfJrioGp3wPjPPhf5inIQ","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+de+Roc+Boronat,+138,+08018+Barcelona,+Espanya&ftid=0x12a4a33cd51484f7:0xf785dcd173304dfb","utc_offset":60,"vicinity":"Barcelona","html_attributions":[]}',
            hour: "08:00",
            hourBack: "20:30",
            id: "6",
            origin: "Carrer de Salvador Espriu, 18, Sant Cugat del Vallès",
            originCoord: ["41.4779578","2.0852432000000363"],
            originCity: "Sant Cugat del Vallès",
            originObject: '{"address_components":[{"long_name":"18","short_name":"18","types":["street_number"]},{"long_name":"Carrer de Salvador Espriu","short_name":"Carrer de Salvador Espriu","types":["route"]},{"long_name":"Sant Cugat del Vallès","short_name":"Sant Cugat del Vallès","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08173","short_name":"08173","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer de Salvador Espriu, 18</span>, <span class=\"postal-code\">08173</span> <span class=\"locality\">Sant Cugat del Vallès</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer de Salvador Espriu, 18, 08173 Sant Cugat del Vallès, Barcelona, Espanya","geometry":{"location":{"lat":41.4779578,"lng":2.0852432000000363},"viewport":{"south":41.4766137697085,"west":2.083887519708469,"north":41.4793117302915,"east":2.0865854802914328}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"a418abf11c8d5ce821f8ace2d750adf78a284786","name":"Carrer de Salvador Espriu, 18","place_id":"Ek9DYXJyZXIgZGUgU2FsdmFkb3IgRXNwcml1LCAxOCwgMDgxNzMgU2FudCBDdWdhdCBkZWwgVmFsbMOocywgQmFyY2Vsb25hLCBFc3Bhbnlh","reference":"CrQBrQAAAAsbcLHwF99nfxb-m5IlskRm2zmnEsDIGxNloGh-1fs0lS9Yil5DJSyy3N0BWLijaQPxg32FFzPF8BDPURCWxY3QPBtKvXF1dNKbVxQCOAwPQ0Jix0VnC1dNUfYQhKlq8AexvYSFaChg7-XL_eBwUZ0dpnQ4qZN6ZZQlqEhXw3Z4EKC_iBF9jYHJBvcZESUxZ6qBywSxcJqZWMDjoPx-R9lQRkI_QbkrhbwH35YK_IUFEhDpr-4OzUhLBZS9WZBZwPSnGhSZuE9VRLQEV08MSPx8aMzInJofDg","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+de+Salvador+Espriu,+18,+08173+Sant+Cugat+del+Vall%C3%A8s,+Barcelona,+Espanya&ftid=0x12a496c1efc47e39:0xa86a7823c0156c78","utc_offset":60,"vicinity":"Sant Cugat del Vallès","html_attributions":[]}',
            spaces:"4",
            userEmail: "russsssknar@hotmail.com",
            userName: "russsssknar",
            weekDays: ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes"],
            usersOnIda: [],
            usersOnVuelta: [],
        },{
            availSpacesIda: "3",
            availSpacesVuelta: "3",
            destination: "Carrer Francolí, 32, Premià de Dalt",
            destinationCity: "Premià de Dalt",
            destinationCoord: ["41.5043088","2.3566332999999986"],
            destinationObject: '{"address_components":[{"long_name":"32","short_name":"32","types":["street_number"]},{"long_name":"Carrer Francolí","short_name":"Carrer Francolí","types":["route"]},{"long_name":"Premià de Dalt","short_name":"Premià de Dalt","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08338","short_name":"08338","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer Francolí, 32</span>, <span class=\"postal-code\">08338</span> <span class=\"locality\">Premià de Dalt</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer Francolí, 32, 08338 Premià de Dalt, Barcelona, Espanya","geometry":{"location":{"lat":41.5043088,"lng":2.3566332999999986},"viewport":{"south":41.5029560197085,"west":2.355276369708463,"north":41.50565398029149,"east":2.3579743302915404}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"a9dbfa3ae2e3a35024a735c4470157eb8e58083c","name":"Carrer Francolí, 32","place_id":"Ej9DYXJyZXIgRnJhbmNvbMOtLCAzMiwgMDgzMzggUHJlbWnDoCBkZSBEYWx0LCBCYXJjZWxvbmEsIEVzcGFueWE","reference":"CqQBnQAAAHcd42teBDu-n9wN1qPDVZEkHlO4WIRQf_Ymjvcyc01ksO61zJov9LmBU30kxVU1KyF7XL6V6AtbqAKAqhomB6rK6SDS_Be4SUt1Xm_cS6KrJ23YWfEcpg69ZoBkUlSg3miaKTpgoiwhnMtbCK2XhPCzl0ihEOSygyyLNoBIcLyNbLPCeLZzhjqvflAc8E2wAi4zLmIr6tiGraSWXY8K8PgSEECm8hYjY9DSYQXvlgcghkQaFIjPs0WzWUbPPJVMngp0ENCGf6sm","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+Francol%C3%AD,+32,+08338+Premi%C3%A0+de+Dalt,+Barcelona,+Espanya&ftid=0x12a4b6c92d677c15:0xcd595d0dad13ad16","utc_offset":60,"vicinity":"Premià de Dalt","html_attributions":[]}',
            hour: "10:00",
            hourBack: "22:00",
            id: "7",
            origin: "Carrer del Vapor, 46, Montcada i Reixac",
            originCoord: ["41.487012","2.1754914000000554"],
            originCity: "Montcada i Reixac",
            originObject: '{"address_components":[{"long_name":"46","short_name":"46","types":["street_number"]},{"long_name":"Carrer del Vapor","short_name":"Carrer del Vapor","types":["route"]},{"long_name":"Montcada i Reixac","short_name":"Montcada i Reixac","types":["locality","political"]},{"long_name":"Barcelona","short_name":"Barcelona","types":["administrative_area_level_2","political"]},{"long_name":"Catalunya","short_name":"CT","types":["administrative_area_level_1","political"]},{"long_name":"Espanya","short_name":"ES","types":["country","political"]},{"long_name":"08110","short_name":"08110","types":["postal_code"]}],"adr_address":"<span class=\"street-address\">Carrer del Vapor, 46</span>, <span class=\"postal-code\">08110</span> <span class=\"locality\">Montcada i Reixac</span>, <span class=\"region\">Barcelona</span>, <span class=\"country-name\">Espanya</span>","formatted_address":"Carrer del Vapor, 46, 08110 Montcada i Reixac, Barcelona, Espanya","geometry":{"location":{"lat":41.487012,"lng":2.1754914000000554},"viewport":{"south":41.4856738697085,"west":2.1741451697084813,"north":41.48837183029149,"east":2.176843130291445}},"icon":"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png","id":"efad924f69ba50dbee27d314731a6bd4fe31c8fc","name":"Carrer del Vapor, 46","place_id":"ChIJh4rgQc-9pBIRw49MkDEDhN8","reference":"CmRbAAAABave3R9s_KdfTuarhZ6caPwKrmobZcQUJAyEflbr1nZFXyxVkQvAAkPLkCwIYoGEjgQUBFt2ZemagrZMAtq9PQweEkJpAc-HYEcd5dvO3hr-m5m3xpQ6G6L1Uc90eJspEhBHY6URtWnG6tQk7T10KUEzGhSv-6uuE-L7ARNaMLGPJjIusBXiug","scope":"GOOGLE","types":["street_address"],"url":"https://maps.google.com/?q=Carrer+del+Vapor,+46,+08110+Montcada+i+Reixac,+Barcelona,+Espanya&ftid=0x12a4bdcf41e08a87:0xdf840331904c8fc3","utc_offset":60,"vicinity":"Montcada i Reixac","html_attributions":[]}',
            spaces:"3",
            userEmail: "transylavnian_girl@gmail.com",
            userName: "tri4da",
            weekDays: ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes"],
            usersOnIda: [],
            usersOnVuelta: [],
        }
    ];

    constructor() {
        super('ruta');
        this.version(1).stores({
            rutes: 'userEmail'
        });
        this.addInitialRutes();
    }

    addInitialRutes() {
        this.rutes.get(this.rutesToAdd[0].userEmail)
            .then(ruta => {
                if (ruta == undefined) {
                    for (var i = 0; i < this.rutesToAdd.length; i++) {
                        this.rutes.add(this.rutesToAdd[i]);
                    }
                }
            })
    }

    addRuta(ruta: Ruta) {
        ruta.id = uuidV4();
        this.rutes.add(ruta);
    }

    getRuta(userEmail: string): Dexie.Promise<Ruta> {
        return this.rutes.get(userEmail);
    }

    getRutas(): Dexie.Promise<Ruta[]> {
        return this.rutes.toArray();
    }

    setRuta(userEmail: string, ruta: Ruta) {
        return this.rutes.update(userEmail, ruta);
    }

    deleteRuta(userEmail: string) {
        this.rutes.delete(userEmail);
    }


}

